# サブタスク4: l_mat.cコーディング

## ファイル概要
- ファイル名: eminj_l_mat.c  
- 行数: 約4961行
- 目的: 噴射要求調停ロジックの実装

## 実施した変更

### バージョン文字列の更新
```c
変更前: /* eminj-pcw00-1500-a-t-M4 */
変更後: /* eminj-kjcw00-1600-a-t-M4 */
```

## 今後必要な変更（仕様書分析後）

### 1. ロジック変更シート対応
ロジック変更シートで指定された以下の変更を実装：
- 噴射モード判定ロジックの変更
- 優先度判定ロジックの更新
- タイミング制御アルゴリズムの改善

### 2. 参照元チェックシート対応
外部モジュールからのデータ取得処理：
```c
#if JEALLHV_E == u1g_EJCC_ALLHV_E
#include <engsrc/efunc/edrblty/eels/erdnves.h>
vdg_erdnves_group00_dataget()
#endif
```
新規参照元の追加、不要な参照元の削除

### 3. 参照先チェックシート対応
外部モジュールへのデータ提供：
- stg_eminj_einj構造体のメンバ追加/削除
- データ取得関数の更新

### 4. 定数管理エクセル対応
- マクロ定数の追加/削除
- 優先度の見直し
- フリーポート機能の設定

### 5. インクルードファイルの更新
```c
#include <sac/ainjif.h>          /* 新規追加の可能性 */
#include <engsrc/estate/esin/ene.h>  /* 追加/削除の確認 */
```

## 主要関数の変更ポイント

### vdg_eminj_pwon()（初期化処理）
- 初期値の設定変更
- 新規変数の初期化追加

### vdg_eminj_8msm()（メイン処理）
- 優先度判定テーブルの更新
- 要求データ調停ロジックの変更
- 出力データ生成ロジックの更新

### vdg_eminj_einj_dataget()（データ取得）
- 構造体メンバの追加/削除対応
- 単位変換処理の更新

### vdg_eminj_eminj_dataget()（データ取得2）
- 新規データ項目の追加
- 廃止データ項目の削除

## コンパイルスイッチ対応

### 既存スイッチの確認
- JEEFI（EFI種別）
- JESS（SS機能）
- JEEGMG_E（EG-MG種別）
- JEALLHV_E（HV種別）
- その他機能スイッチ

### 新規スイッチの追加
定数管理エクセルで定義された新規コンパイルスイッチ

## 検証項目
- [ ] 全コンパイルスイッチパターンでのビルド確認
- [ ] ロジック変更箇所の動作確認
- [ ] メモリ使用量の確認
- [ ] 処理時間の確認（8ms制約）
- [ ] 外部I/Fの整合性確認

## 注意事項
1. CP932エンコーディングの維持（日本語コメント）
2. baseフォルダのコーディングスタイル踏襲
3. インデント、命名規則の統一
4. Toyota Motor Corporation著作権表示の維持
