# 定数差分反映内容

## 作成日時
2025-11-07

## 対象ファイル
- eminj.h
- eminj_l_mat.c
- eminj_c_mat.c (変更なし、コピーのみ)
- eminj_c.h (変更なし、コピーのみ)

## 変更内容

### 1. eminj.h の変更

#### EMINJ_INJPTN_VD 値の変更
- **変更前:**
  - D-4の場合: `0x30000000U`
  - D-4以外の場合: `0x10000000U`
- **変更後:**
  - すべてのケース: `0x00000000U`

**変更箇所:** 683行目、686行目
```c
#if (JEEFI == u1g_EJCC_D4)                                              /* 【D-4】 */
#define u4g_EMINJ_INJPTN_VD ((u4)(0x00000000U))                         /* m=eminj,lsb=,ofs=,unit= :噴射ﾊﾟﾀｰﾝ無効値 */

#else                                                                   /* 【D-4以外】 */
#define u4g_EMINJ_INJPTN_VD ((u4)(0x00000000U))                         /* m=eminj,lsb=,ofs=,unit= :噴射ﾊﾟﾀｰﾝ無効値 */
#endif                                                                  /* JEEFI */
```

### 2. eminj_l_mat.c の変更

#### 新規定数の追加（396行目以降に追加）

```c
#define u1s_EMINJ_STEPKCYL_VD ((u1)(0b11111111))                            /* m=eminj,lsb=1,ofs=,unit=- :気筒別噴射量補正段無効値 */
#define s2s_EMINJ_KQCYL_VD (s2g_glround((1.)/((1.*4.)/128./256.)))      /* m=eminj,lsb=(1*4)/128/256,ofs=,unit=倍 :気筒別噴射量補正係数無効値 */
#define s2s_EMINJ_KQCYL_MN (s2g_glround((0.)/((1.*4.)/128./256.)))      /* m=eminj,lsb=(1*4)/128/256,ofs=,unit=倍 :気筒別噴射量補正係数下限値 */
#define s2s_EMINJ_KQCYL_MX (s2g_glround((2.)/((1.*4.)/128./256.)))      /* m=eminj,lsb=(1*4)/128/256,ofs=,unit=倍 :気筒別噴射量補正係数上限値 */
```

#### 定数詳細:

1. **EMINJ_STEPKCYL_VD**
   - 説明: 気筒別噴射量補正段無効値
   - 型: u1g
   - 値: 0b11111111 (255)
   - LSB: 1

2. **EMINJ_KQCYL_VD**
   - 説明: 気筒別噴射量補正係数無効値
   - 型: s2g
   - 値: 1倍
   - LSB: (1*4)/128/256

3. **EMINJ_KQCYL_MN**
   - 説明: 気筒別噴射量補正係数下限値
   - 型: s2s
   - 値: 0倍
   - LSB: (1*4)/128/256

4. **EMINJ_KQCYL_MX**
   - 説明: 気筒別噴射量補正係数上限値
   - 型: s2s
   - 値: 2倍
   - LSB: (1*4)/128/256

## ファイルエンコーディング
すべてのファイルはCP932（Shift_JIS）エンコーディングで保存されています。

## コンパイル確認
これらの変更はコンパイル可能な状態を維持しています。
新しい定数は既存のコーディングスタイルに従って定義されています。

## 参照仕様書
- Base: base/eminj-acw-15-c-t_spec/11eminj-acw-15-c-t.xlsx
- New: new/eminj-acw-16-a-t/11eminj-acw-16-a-t.xlsx
